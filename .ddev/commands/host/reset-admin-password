#!/usr/bin/env bash

## #ddev-generated: If you want to edit and own this file, remove this line.
## Description: Reset TYPO3 admin password to 'admin123'
## Usage: reset-admin-password
## Example: "ddev reset-admin-password"

# Argon2i hash for password: admin123
ADMIN_PASSWORD_HASH='$argon2i$v=19$m=65536,t=4,p=1$SHdQVnNIWjY0WUlzbDhJOQ$HsGR98oWV/m/d77zVxGubRzulQMsmGYKC2978ZlPlfY'

echo "ğŸ”„ Setze Admin-Passwort zurÃ¼ck..."
ddev mysql -e "UPDATE be_users SET password = '${ADMIN_PASSWORD_HASH}' WHERE uid = 1;"

if [ $? -eq 0 ]; then
    echo "âœ… Passwort erfolgreich zurÃ¼ckgesetzt!"
    echo ""
    echo "ğŸ“‹ Login-Daten:"
    echo "   Benutzername: admin"
    echo "   Passwort: admin123"
    echo ""
    echo "ğŸ” Bitte setze im Backend ein sicheres Passwort:"
    echo "   User Management â†’ admin â†’ neues Passwort setzen"
else
    echo "âŒ Fehler beim ZurÃ¼cksetzen des Passworts!"
    exit 1
fi










